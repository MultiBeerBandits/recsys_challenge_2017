File found, retrieving urm from it.
Load from file takes 0.72 seconds
target playlist  4421
target tracks  17247
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17247) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17247)
MAP@5: 0.0
target playlist  4421
target tracks  17182
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17182) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17182)
MAP@5: 0.0
target playlist  4421
target tracks  17092
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17092) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17092)
MAP@5: 0.0
target playlist  4421
target tracks  17021
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17021) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17021)
MAP@5: 0.0
target playlist  4419
target tracks  17382
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17382) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4419, 17382)
MAP@5: 0.0
MAP@5 [shrinkage: 100 k_filtering: 50 album_w: 0.0 artist_w: 0.0]:  0.0
target playlist  4421
target tracks  17135
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17135) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17135)
MAP@5: 0.08068762723365729
target playlist  4421
target tracks  17251
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17251) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17251)
MAP@5: 0.0810020357385206
target playlist  4421
target tracks  17072
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17072) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17072)
MAP@5: 0.08060770564728931
target playlist  4421
target tracks  17291
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17291) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17291)
MAP@5: 0.08139108798914238
target playlist  4419
target tracks  17273
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17273) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4419, 17273)
MAP@5: 0.08446405672474902
MAP@5 [shrinkage: 100 k_filtering: 50 album_w: 0.0 artist_w: 0.1]:  0.08163050266667171
target playlist  4421
target tracks  17298
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17298) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17298)
MAP@5: 0.08002488124858623
target playlist  4421
target tracks  17231
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17231) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17231)
MAP@5: 0.08135037321872886
target playlist  4421
target tracks  17219
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17219) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17219)
MAP@5: 0.07994269773052846
target playlist  4421
target tracks  17246
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17246) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17246)
MAP@5: 0.08242252883962897
target playlist  4419
target tracks  17152
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17152) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4419, 17152)
MAP@5: 0.08137059666591229
MAP@5 [shrinkage: 100 k_filtering: 50 album_w: 0.0 artist_w: 0.2]:  0.08102221554067697
target playlist  4421
target tracks  17222
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17222) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17222)
MAP@5: 0.08137374651285537
target playlist  4421
target tracks  17237
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17237) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17237)
MAP@5: 0.08458568951217672
target playlist  4421
target tracks  17211
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17211) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17211)
MAP@5: 0.08342079469200017
target playlist  4421
target tracks  17240
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17240) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17240)
MAP@5: 0.07944281082711278
target playlist  4419
target tracks  17285
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17285) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4419, 17285)
MAP@5: 0.08227653315229681
MAP@5 [shrinkage: 100 k_filtering: 50 album_w: 0.0 artist_w: 0.3]:  0.08221991493928837
target playlist  4421
target tracks  17190
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17190) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17190)
MAP@5: 0.0850953781195807
target playlist  4421
target tracks  17060
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17060) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17060)
MAP@5: 0.07976852899042441
target playlist  4421
target tracks  17327
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17327) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17327)
MAP@5: 0.08275654075246922
target playlist  4421
target tracks  17189
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17189) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17189)
MAP@5: 0.08451556962979709
target playlist  4419
target tracks  17135
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17135) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4419, 17135)
MAP@5: 0.08017349324884963
MAP@5 [shrinkage: 100 k_filtering: 50 album_w: 0.0 artist_w: 0.4]:  0.08246190214822421
target playlist  4421
target tracks  17119
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17119) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17119)
MAP@5: 0.07813692226494744
target playlist  4421
target tracks  17240
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17240) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17240)
MAP@5: 0.08752544673150871
target playlist  4421
target tracks  17340
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17340) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17340)
MAP@5: 0.08182160898740842
target playlist  4421
target tracks  17167
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17167) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17167)
MAP@5: 0.08700821835180582
target playlist  4419
target tracks  17244
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17244) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4419, 17244)
MAP@5: 0.07906615373010456
MAP@5 [shrinkage: 100 k_filtering: 50 album_w: 0.0 artist_w: 0.5]:  0.08271167001315499
target playlist  4421
target tracks  17192
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17192) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17192)
MAP@5: 0.08144386639523485
target playlist  4421
target tracks  17161
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17161) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17161)
MAP@5: 0.08098318630777329
target playlist  4421
target tracks  17127
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17127) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17127)
MAP@5: 0.08428259066576164
target playlist  4421
target tracks  17262
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17262) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17262)
MAP@5: 0.08059941189776058
target playlist  4419
target tracks  17308
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17308) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4419, 17308)
MAP@5: 0.08287018179075184
MAP@5 [shrinkage: 100 k_filtering: 50 album_w: 0.0 artist_w: 0.6]:  0.08203584741145645
target playlist  4421
target tracks  17206
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17206) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17206)
MAP@5: 0.0863160672547689
target playlist  4421
target tracks  17220
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17220) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17220)
MAP@5: 0.0820372464751565
target playlist  4421
target tracks  17367
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17367) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17367)
MAP@5: 0.08030083691472505
target playlist  4421
target tracks  17252
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17252) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17252)
MAP@5: 0.08178240217145419
target playlist  4419
target tracks  17229
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17229) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4419, 17229)
MAP@5: 0.08849287169042783
MAP@5 [shrinkage: 100 k_filtering: 50 album_w: 0.0 artist_w: 0.7]:  0.08378588490130649
target playlist  4421
target tracks  17070
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17070) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17070)
MAP@5: 0.08208399306340954
target playlist  4421
target tracks  17303
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17303) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17303)
MAP@5: 0.07915102163914646
target playlist  4421
target tracks  17271
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17271) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17271)
MAP@5: 0.08022770112342598
target playlist  4421
target tracks  17209
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17209) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17209)
MAP@5: 0.08290809017567656
target playlist  4419
target tracks  17303
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17303) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4419, 17303)
MAP@5: 0.07953005959115916
MAP@5 [shrinkage: 100 k_filtering: 50 album_w: 0.0 artist_w: 0.8]:  0.08078017311856353
target playlist  4421
target tracks  17211
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17211) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17211)
MAP@5: 0.0775397722988764
target playlist  4421
target tracks  17284
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17284) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17284)
MAP@5: 0.08182839478247739
target playlist  4421
target tracks  17256
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17256) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17256)
MAP@5: 0.08319158561411456
target playlist  4421
target tracks  17199
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17199) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17199)
MAP@5: 0.08636507577471157
target playlist  4419
target tracks  17214
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17214) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4419, 17214)
MAP@5: 0.08162253903598087
MAP@5 [shrinkage: 100 k_filtering: 50 album_w: 0.0 artist_w: 0.9]:  0.08210947350123217
target playlist  4421
target tracks  17213
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17213) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17213)
MAP@5: 0.08036718691095508
target playlist  4421
target tracks  17162
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17162) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17162)
MAP@5: 0.08446052929201545
target playlist  4421
target tracks  17289
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17289) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17289)
MAP@5: 0.08123426072532587
target playlist  4421
target tracks  17213
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17213) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17213)
MAP@5: 0.07999170625047104
target playlist  4419
target tracks  17216
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17216) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4419, 17216)
MAP@5: 0.08315908576601042
MAP@5 [shrinkage: 100 k_filtering: 50 album_w: 0.0 artist_w: 1.0]:  0.08184255378895558
target playlist  4421
target tracks  17206
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17206) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17206)
MAP@5: 0.07772374274296899
target playlist  4421
target tracks  17367
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17367) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17367)
MAP@5: 0.07833672623086761
target playlist  4421
target tracks  17210
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17210) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17210)
MAP@5: 0.07903189323682427
target playlist  4421
target tracks  17223
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17223) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17223)
MAP@5: 0.07732488878835835
target playlist  4419
target tracks  17249
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17249) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4419, 17249)
MAP@5: 0.078011616504488
MAP@5 [shrinkage: 100 k_filtering: 50 album_w: 0.1 artist_w: 0.0]:  0.07808577350070145
target playlist  4421
target tracks  17277
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17277) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17277)
MAP@5: 0.1027814220010555
target playlist  4421
target tracks  17170
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17170) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17170)
MAP@5: 0.09950388298273405
target playlist  4421
target tracks  17124
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17124) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17124)
MAP@5: 0.09555379627535242
target playlist  4421
target tracks  17246
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17246) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17246)
MAP@5: 0.10376008444544982
target playlist  4419
target tracks  17304
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17304) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4419, 17304)
MAP@5: 0.10173794976238965
MAP@5 [shrinkage: 100 k_filtering: 50 album_w: 0.1 artist_w: 0.1]:  0.1006674270933963
target playlist  4421
target tracks  17315
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17315) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17315)
MAP@5: 0.09910125914197383
target playlist  4421
target tracks  17255
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17255) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17255)
MAP@5: 0.09972630626555082
target playlist  4421
target tracks  17093
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17093) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17093)
MAP@5: 0.09756314559300316
target playlist  4421
target tracks  17302
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17302) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17302)
MAP@5: 0.09970821081203371
target playlist  4419
target tracks  17253
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17253) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4419, 17253)
MAP@5: 0.09947046843177187
MAP@5 [shrinkage: 100 k_filtering: 50 album_w: 0.1 artist_w: 0.2]:  0.09911387804886669
target playlist  4421
target tracks  17174
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17174) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17174)
MAP@5: 0.09568725024504263
target playlist  4421
target tracks  17218
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17218) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17218)
MAP@5: 0.10267511121164145
target playlist  4421
target tracks  17248
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17248) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17248)
MAP@5: 0.0964532911106085
target playlist  4421
target tracks  17083
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17083) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17083)
MAP@5: 0.09956797104727445
target playlist  4419
target tracks  17085
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17085) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4419, 17085)
MAP@5: 0.10221694199290954
MAP@5 [shrinkage: 100 k_filtering: 50 album_w: 0.1 artist_w: 0.3]:  0.09932011312149532
target playlist  4421
target tracks  17224
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17224) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17224)
MAP@5: 0.10201387318103013
target playlist  4421
target tracks  17138
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17138) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17138)
MAP@5: 0.09682123199879368
target playlist  4421
target tracks  17283
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17283) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17283)
MAP@5: 0.09927919776822755
target playlist  4421
target tracks  17253
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17253) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17253)
MAP@5: 0.10116414084294674
target playlist  4419
target tracks  17324
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17324) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4419, 17324)
MAP@5: 0.09919740514445227
MAP@5 [shrinkage: 100 k_filtering: 50 album_w: 0.1 artist_w: 0.4]:  0.09969516978709007
target playlist  4421
target tracks  17325
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17325) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17325)
MAP@5: 0.10076302495664621
target playlist  4421
target tracks  17191
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17191) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17191)
MAP@5: 0.10015758124104635
target playlist  4421
target tracks  17115
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17115) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17115)
MAP@5: 0.10207946920003022
target playlist  4421
target tracks  17152
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17152) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17152)
MAP@5: 0.09876950916082335
target playlist  4419
target tracks  17148
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17148) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4419, 17148)
MAP@5: 0.09875462020064864
MAP@5 [shrinkage: 100 k_filtering: 50 album_w: 0.1 artist_w: 0.5]:  0.10010484095183896
target playlist  4421
target tracks  17168
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17168) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17168)
MAP@5: 0.10167533740481026
target playlist  4421
target tracks  17150
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17150) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17150)
MAP@5: 0.10091155847093419
target playlist  4421
target tracks  17159
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17159) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17159)
MAP@5: 0.09910804493704281
target playlist  4421
target tracks  17291
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17291) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17291)
MAP@5: 0.10091457437985372
target playlist  4419
target tracks  17244
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17244) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4419, 17244)
MAP@5: 0.1007135852757033
MAP@5 [shrinkage: 100 k_filtering: 50 album_w: 0.1 artist_w: 0.6]:  0.10066462009366886
target playlist  4421
target tracks  17277
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17277) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17277)
MAP@5: 0.09967729774560806
target playlist  4421
target tracks  17283
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17283) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17283)
MAP@5: 0.09891578074342151
target playlist  4421
target tracks  17238
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17238) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17238)
MAP@5: 0.10179597376159247
target playlist  4421
target tracks  17388
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17388) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17388)
MAP@5: 0.10105707607630235
target playlist  4419
target tracks  17253
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17253) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4419, 17253)
MAP@5: 0.09426114505544252
MAP@5 [shrinkage: 100 k_filtering: 50 album_w: 0.1 artist_w: 0.7]:  0.09914145467647338
target playlist  4421
target tracks  17276
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17276) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17276)
MAP@5: 0.09848827565407535
target playlist  4421
target tracks  17172
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17172) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17172)
MAP@5: 0.10117092663801575
target playlist  4421
target tracks  17282
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17282) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17282)
MAP@5: 0.10217220839930637
target playlist  4421
target tracks  17301
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17301) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17301)
MAP@5: 0.09908542562014631
target playlist  4419
target tracks  17112
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17112) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4419, 17112)
MAP@5: 0.0977642000452591
MAP@5 [shrinkage: 100 k_filtering: 50 album_w: 0.1 artist_w: 0.8]:  0.09973620727136058
target playlist  4421
target tracks  17370
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17370) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17370)
MAP@5: 0.10008142954082787
target playlist  4421
target tracks  17206
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17206) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17206)
MAP@5: 0.09754429616225609
target playlist  4421
target tracks  17232
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17232) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17232)
MAP@5: 0.10014099374198902
target playlist  4421
target tracks  17223
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17223) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17223)
MAP@5: 0.09830958305059193
target playlist  4419
target tracks  17315
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17315) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4419, 17315)
MAP@5: 0.09644037112468884
MAP@5 [shrinkage: 100 k_filtering: 50 album_w: 0.1 artist_w: 0.9]:  0.09850333472407076
target playlist  4421
target tracks  17148
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17148) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17148)
MAP@5: 0.09530875367563929
target playlist  4421
target tracks  17126
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17126) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17126)
MAP@5: 0.09638920304606782
target playlist  4421
target tracks  17158
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17158) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17158)
MAP@5: 0.10419437532986502
target playlist  4421
target tracks  17272
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17272) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17272)
MAP@5: 0.09759104275050898
target playlist  4419
target tracks  17208
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17208) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4419, 17208)
MAP@5: 0.10190918005581977
MAP@5 [shrinkage: 100 k_filtering: 50 album_w: 0.1 artist_w: 1.0]:  0.09907851097158017
target playlist  4421
target tracks  17319
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17319) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17319)
MAP@5: 0.08212018397044375
target playlist  4421
target tracks  17151
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17151) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17151)
MAP@5: 0.07622935987333151
target playlist  4421
target tracks  17141
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17141) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17141)
MAP@5: 0.07526653095076516
target playlist  4421
target tracks  17405
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17405) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17405)
MAP@5: 0.08312448164065409
target playlist  4419
target tracks  17250
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17250) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4419, 17250)
MAP@5: 0.07405974202308187
MAP@5 [shrinkage: 100 k_filtering: 50 album_w: 0.2 artist_w: 0.0]:  0.07816005969165526
target playlist  4421
target tracks  17223
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17223) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17223)
MAP@5: 0.09714318027595582
target playlist  4421
target tracks  17221
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17221) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17221)
MAP@5: 0.09729171379024364
target playlist  4421
target tracks  17192
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17192) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17192)
MAP@5: 0.10207042147327154
target playlist  4421
target tracks  17175
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17175) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17175)
MAP@5: 0.09792053079996985
target playlist  4419
target tracks  17185
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17185) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4419, 17185)
MAP@5: 0.09984762766840162
MAP@5 [shrinkage: 100 k_filtering: 50 album_w: 0.2 artist_w: 0.1]:  0.0988546948015685
target playlist  4421
target tracks  17242
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17242) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17242)
MAP@5: 0.10064163462263451
target playlist  4421
target tracks  17207
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17207) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17207)
MAP@5: 0.10037925054663357
target playlist  4421
target tracks  17293
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17293) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17293)
MAP@5: 0.10241649702179
target playlist  4421
target tracks  17134
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17134) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17134)
MAP@5: 0.10117469652416514
target playlist  4419
target tracks  17104
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17104) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4419, 17104)
MAP@5: 0.10345779588142091
MAP@5 [shrinkage: 100 k_filtering: 50 album_w: 0.2 artist_w: 0.2]:  0.10161397491932882
target playlist  4421
target tracks  17097
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17097) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17097)
MAP@5: 0.09265776973535393
target playlist  4421
target tracks  17301
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17301) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17301)
MAP@5: 0.09573701274221533
target playlist  4421
target tracks  17395
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17395) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17395)
MAP@5: 0.10142803287340738
target playlist  4421
target tracks  17284
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17284) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17284)
MAP@5: 0.10827339214355726
target playlist  4419
target tracks  17131
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17131) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4419, 17131)
MAP@5: 0.0988111940861431
MAP@5 [shrinkage: 100 k_filtering: 50 album_w: 0.2 artist_w: 0.3]:  0.09938148031613539
target playlist  4421
target tracks  17164
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17164) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17164)
MAP@5: 0.10046897383698983
target playlist  4421
target tracks  17233
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17233) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17233)
MAP@5: 0.10209982658523714
target playlist  4421
target tracks  17316
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17316) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17316)
MAP@5: 0.09845133076981066
target playlist  4421
target tracks  17105
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17105) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17105)
MAP@5: 0.09975495740028664
target playlist  4419
target tracks  17123
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17123) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4419, 17123)
MAP@5: 0.09630761107339514
MAP@5 [shrinkage: 100 k_filtering: 50 album_w: 0.2 artist_w: 0.4]:  0.09941653993314388
target playlist  4421
target tracks  17321
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17321) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17321)
MAP@5: 0.10159692377290212
target playlist  4421
target tracks  17282
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17282) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17282)
MAP@5: 0.10213375556058203
target playlist  4421
target tracks  17280
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17280) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17280)
MAP@5: 0.09872427052703016
target playlist  4421
target tracks  17195
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17195) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17195)
MAP@5: 0.09758199502375028
target playlist  4419
target tracks  17282
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17282) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4419, 17282)
MAP@5: 0.09928566040582333
MAP@5 [shrinkage: 100 k_filtering: 50 album_w: 0.2 artist_w: 0.5]:  0.09986452105801757
target playlist  4421
target tracks  17163
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17163) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17163)
MAP@5: 0.10003015908919559
target playlist  4421
target tracks  17144
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17144) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17144)
MAP@5: 0.09992686420870099
target playlist  4421
target tracks  17283
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17283) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17283)
MAP@5: 0.10001809545351724
target playlist  4421
target tracks  17157
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17157) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17157)
MAP@5: 0.10046595792807067
target playlist  4419
target tracks  17291
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17291) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4419, 17291)
MAP@5: 0.0988285434110282
MAP@5 [shrinkage: 100 k_filtering: 50 album_w: 0.2 artist_w: 0.6]:  0.09985392401810253
target playlist  4421
target tracks  17196
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17196) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17196)
MAP@5: 0.09499132926185623
target playlist  4421
target tracks  17285
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17285) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17285)
MAP@5: 0.1013232300384529
target playlist  4421
target tracks  17152
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17152) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17152)
MAP@5: 0.09233205157204259
target playlist  4421
target tracks  17164
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17164) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17164)
MAP@5: 0.10217371635376604
target playlist  4419
target tracks  17288
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17288) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4419, 17288)
MAP@5: 0.10086520328882843
MAP@5 [shrinkage: 100 k_filtering: 50 album_w: 0.2 artist_w: 0.7]:  0.09833710610298924
target playlist  4421
target tracks  17221
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17221) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17221)
MAP@5: 0.0967835331372993
target playlist  4421
target tracks  17229
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17229) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17229)
MAP@5: 0.09984015682726397
target playlist  4421
target tracks  17111
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17111) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17111)
MAP@5: 0.10029405111965611
target playlist  4421
target tracks  17250
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17250) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17250)
MAP@5: 0.09923395913443422
target playlist  4419
target tracks  17263
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17263) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4419, 17263)
MAP@5: 0.1008750094289808
MAP@5 [shrinkage: 100 k_filtering: 50 album_w: 0.2 artist_w: 0.8]:  0.09940534192952688
target playlist  4421
target tracks  17265
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17265) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17265)
MAP@5: 0.10295031290055036
target playlist  4421
target tracks  17210
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17210) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17210)
MAP@5: 0.102947296991631
target playlist  4421
target tracks  17186
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17186) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17186)
MAP@5: 0.09766568649626776
target playlist  4421
target tracks  17189
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17189) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17189)
MAP@5: 0.10144688230415454
target playlist  4419
target tracks  17212
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17212) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4419, 17212)
MAP@5: 0.09999547408916049
MAP@5 [shrinkage: 100 k_filtering: 50 album_w: 0.2 artist_w: 0.9]:  0.10100113055635282
target playlist  4421
target tracks  17262
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17262) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17262)
MAP@5: 0.10327678504109193
target playlist  4421
target tracks  17329
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17329) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17329)
MAP@5: 0.10059036417100235
target playlist  4421
target tracks  17201
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17201) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17201)
MAP@5: 0.09674960416195416
target playlist  4421
target tracks  17290
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17290) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17290)
MAP@5: 0.09504335369071848
target playlist  4419
target tracks  17105
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17105) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4419, 17105)
MAP@5: 0.09988081768122505
MAP@5 [shrinkage: 100 k_filtering: 50 album_w: 0.2 artist_w: 1.0]:  0.0991081849491984
target playlist  4421
target tracks  17255
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17255) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17255)
MAP@5: 0.07616677976325095
target playlist  4421
target tracks  17222
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17222) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17222)
MAP@5: 0.07664555530422958
target playlist  4421
target tracks  17070
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17070) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17070)
MAP@5: 0.08139561185252203
target playlist  4421
target tracks  17186
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17186) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17186)
MAP@5: 0.0824828470180201
target playlist  4419
target tracks  17217
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17217) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4419, 17217)
MAP@5: 0.07918382741193335
MAP@5 [shrinkage: 100 k_filtering: 50 album_w: 0.3 artist_w: 0.0]:  0.0791749242699912
target playlist  4421
target tracks  17324
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17324) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17324)
MAP@5: 0.10023750282741477
target playlist  4421
target tracks  17281
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17281) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17281)
MAP@5: 0.0988652642690191
target playlist  4421
target tracks  17207
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17207) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17207)
MAP@5: 0.09648118826811437
target playlist  4421
target tracks  17241
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17241) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17241)
MAP@5: 0.10319610947749354
target playlist  4419
target tracks  17128
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17128) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4419, 17128)
MAP@5: 0.09435920645696626
MAP@5 [shrinkage: 100 k_filtering: 50 album_w: 0.3 artist_w: 0.1]:  0.09862785425980161
target playlist  4421
target tracks  17275
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17275) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17275)
MAP@5: 0.09847922792731652
target playlist  4421
target tracks  17275
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17275) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17275)
MAP@5: 0.10248360099524997
target playlist  4421
target tracks  17233
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17233) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17233)
MAP@5: 0.10416346226343988
target playlist  4421
target tracks  17165
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17165) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17165)
MAP@5: 0.09947447787076841
target playlist  4419
target tracks  17156
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17156) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4419, 17156)
MAP@5: 0.09649091046239719
MAP@5 [shrinkage: 100 k_filtering: 50 album_w: 0.3 artist_w: 0.2]:  0.1002183359038344
target playlist  4421
target tracks  17288
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17288) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17288)
MAP@5: 0.09969162331297594
target playlist  4421
target tracks  17245
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17245) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17245)
MAP@5: 0.10444544974741776
target playlist  4421
target tracks  17281
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17281) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17281)
MAP@5: 0.102430068611928
target playlist  4421
target tracks  17125
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17125) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17125)
MAP@5: 0.10033325793561035
target playlist  4419
target tracks  17225
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17225) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4419, 17225)
MAP@5: 0.09866259334691108
MAP@5 [shrinkage: 100 k_filtering: 50 album_w: 0.3 artist_w: 0.3]:  0.10111259859096862
target playlist  4421
target tracks  17178
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17178) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17178)
MAP@5: 0.10143331071401643
target playlist  4421
target tracks  17244
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17244) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17244)
MAP@5: 0.0976498529744403
target playlist  4421
target tracks  17219
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17219) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17219)
MAP@5: 0.09992686420870096
target playlist  4421
target tracks  17292
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17292) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17292)
MAP@5: 0.10201613511271977
target playlist  4419
target tracks  17294
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17294) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4419, 17294)
MAP@5: 0.1013871916723242
MAP@5 [shrinkage: 100 k_filtering: 50 album_w: 0.3 artist_w: 0.4]:  0.10048267093644034
target playlist  4421
target tracks  17160
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17160) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17160)
MAP@5: 0.09987559375706861
target playlist  4421
target tracks  17164
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17164) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17164)
MAP@5: 0.10101560732865864
target playlist  4421
target tracks  17228
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17228) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17228)
MAP@5: 0.09806831033702768
target playlist  4421
target tracks  17227
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17227) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17227)
MAP@5: 0.09960114604538953
target playlist  4419
target tracks  17241
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17241) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4419, 17241)
MAP@5: 0.09761031907671433
MAP@5 [shrinkage: 100 k_filtering: 50 album_w: 0.3 artist_w: 0.5]:  0.09923419530897175
target playlist  4421
target tracks  17173
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17173) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17173)
MAP@5: 0.10208625499509928
target playlist  4421
target tracks  17176
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17176) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17176)
MAP@5: 0.10343436628213842
target playlist  4421
target tracks  17132
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17132) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17132)
MAP@5: 0.1024391163386865
target playlist  4421
target tracks  17191
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17191) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17191)
MAP@5: 0.09669154791525295
target playlist  4419
target tracks  17160
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17160) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4419, 17160)
MAP@5: 0.09854642830202916
MAP@5 [shrinkage: 100 k_filtering: 50 album_w: 0.3 artist_w: 0.6]:  0.10063954276664126
target playlist  4421
target tracks  17239
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17239) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17239)
MAP@5: 0.10140993741989014
target playlist  4421
target tracks  17218
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17218) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17218)
MAP@5: 0.09806831033702791
target playlist  4421
target tracks  17203
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17203) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17203)
MAP@5: 0.10156751866093633
target playlist  4421
target tracks  17201
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17201) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17201)
MAP@5: 0.09995023750282747
target playlist  4419
target tracks  17256
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17256) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4419, 17256)
MAP@5: 0.09807573357471547
MAP@5 [shrinkage: 100 k_filtering: 50 album_w: 0.3 artist_w: 0.7]:  0.09981434749907947
target playlist  4421
target tracks  17210
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17210) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17210)
MAP@5: 0.09550252582372017
target playlist  4421
target tracks  17147
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17147) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17147)
MAP@5: 0.09828319384754575
target playlist  4421
target tracks  17125
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17125) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17125)
MAP@5: 0.09726381663273768
target playlist  4421
target tracks  17111
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17111) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17111)
MAP@5: 0.10133076981075162
target playlist  4419
target tracks  17217
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17217) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4419, 17217)
MAP@5: 0.10265218375198008
MAP@5 [shrinkage: 100 k_filtering: 50 album_w: 0.3 artist_w: 0.8]:  0.09900649797334707
target playlist  4421
target tracks  17117
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17117) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17117)
MAP@5: 0.09837517906959223
target playlist  4421
target tracks  17273
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17273) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17273)
MAP@5: 0.10273467541280266
target playlist  4421
target tracks  17156
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17156) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17156)
MAP@5: 0.09447485485938319
target playlist  4421
target tracks  17312
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17312) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17312)
MAP@5: 0.09976325114981538
target playlist  4419
target tracks  17208
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17208) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4419, 17208)
MAP@5: 0.09949083503054984
MAP@5 [shrinkage: 100 k_filtering: 50 album_w: 0.3 artist_w: 0.9]:  0.09896775910442865
target playlist  4421
target tracks  17296
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17296) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17296)
MAP@5: 0.09741235014702564
target playlist  4421
target tracks  17128
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17128) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17128)
MAP@5: 0.09892482847018026
target playlist  4421
target tracks  17224
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17224) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17224)
MAP@5: 0.09881022393123737
target playlist  4421
target tracks  17284
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17284) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17284)
MAP@5: 0.10605820704214743
target playlist  4419
target tracks  17248
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17248) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4419, 17248)
MAP@5: 0.09895149732216943
MAP@5 [shrinkage: 100 k_filtering: 50 album_w: 0.3 artist_w: 1.0]:  0.10003142138255203
target playlist  4421
target tracks  17278
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17278) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17278)
MAP@5: 0.07820025635225801
target playlist  4421
target tracks  17287
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17287) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17287)
MAP@5: 0.07400286511347341
target playlist  4421
target tracks  17189
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17189) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17189)
MAP@5: 0.08061675337404801
target playlist  4421
target tracks  17155
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17155) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17155)
MAP@5: 0.08042901304380587
target playlist  4419
target tracks  17106
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17106) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4419, 17106)
MAP@5: 0.07812174700158385
MAP@5 [shrinkage: 100 k_filtering: 50 album_w: 0.4 artist_w: 0.0]:  0.07827412697703383
target playlist  4421
target tracks  17218
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17218) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17218)
MAP@5: 0.09424338384980757
target playlist  4421
target tracks  17222
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17222) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17222)
MAP@5: 0.10041242554474854
target playlist  4421
target tracks  17267
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17267) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17267)
MAP@5: 0.09989293523335603
target playlist  4421
target tracks  17247
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17247) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17247)
MAP@5: 0.10028349543843773
target playlist  4419
target tracks  17094
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17094) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4419, 17094)
MAP@5: 0.09378517009881564
MAP@5 [shrinkage: 100 k_filtering: 50 album_w: 0.4 artist_w: 0.1]:  0.0977234820330331
target playlist  4421
target tracks  17298
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17298) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17298)
MAP@5: 0.10036115509311623
target playlist  4421
target tracks  17257
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17257) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17257)
MAP@5: 0.10089421699464667
target playlist  4421
target tracks  17193
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17193) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17193)
MAP@5: 0.09819497851164889
target playlist  4421
target tracks  17314
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17314) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17314)
MAP@5: 0.10325944356480447
target playlist  4419
target tracks  17025
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17025) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4419, 17025)
MAP@5: 0.09773553594327528
MAP@5 [shrinkage: 100 k_filtering: 50 album_w: 0.4 artist_w: 0.2]:  0.10008906602149832
target playlist  4421
target tracks  17343
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17343) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17343)
MAP@5: 0.1040081429540829
target playlist  4421
target tracks  17186
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17186) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17186)
MAP@5: 0.09847244213224764
target playlist  4421
target tracks  17245
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17245) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17245)
MAP@5: 0.096651587122069
target playlist  4421
target tracks  17183
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17183) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17183)
MAP@5: 0.1060913820402624
target playlist  4419
target tracks  17233
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17233) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4419, 17233)
MAP@5: 0.10054084634532702
MAP@5 [shrinkage: 100 k_filtering: 50 album_w: 0.4 artist_w: 0.3]:  0.10115288011879779
target playlist  4421
target tracks  17111
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17111) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17111)
MAP@5: 0.10041921133981754
target playlist  4421
target tracks  17223
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17223) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17223)
MAP@5: 0.1009711226720956
target playlist  4421
target tracks  17246
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17246) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17246)
MAP@5: 0.10504938550855772
target playlist  4421
target tracks  17268
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17268) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17268)
MAP@5: 0.09702555982809327
target playlist  4419
target tracks  17129
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17129) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4419, 17129)
MAP@5: 0.10092479444821593
MAP@5 [shrinkage: 100 k_filtering: 50 album_w: 0.4 artist_w: 0.4]:  0.10087801475935601
target playlist  4421
target tracks  17155
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17155) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17155)
MAP@5: 0.10006861192791955
target playlist  4421
target tracks  17247
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17247) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17247)
MAP@5: 0.1002050818065295
target playlist  4421
target tracks  17318
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17318) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17318)
MAP@5: 0.10509085425620143
target playlist  4421
target tracks  17113
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17113) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17113)
MAP@5: 0.1023644725929277
target playlist  4419
target tracks  17175
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17175) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4419, 17175)
MAP@5: 0.10315531417364411
MAP@5 [shrinkage: 100 k_filtering: 50 album_w: 0.4 artist_w: 0.5]:  0.10217686695144446
target playlist  4421
target tracks  17206
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17206) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17206)
MAP@5: 0.0997609892181257
target playlist  4421
target tracks  17261
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17261) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17261)
MAP@5: 0.09939908014777962
target playlist  4421
target tracks  17132
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17132) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17132)
MAP@5: 0.09631908316368851
target playlist  4421
target tracks  17241
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17241) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17241)
MAP@5: 0.09948352559752703
target playlist  4419
target tracks  17138
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17138) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4419, 17138)
MAP@5: 0.1048238666364941
MAP@5 [shrinkage: 100 k_filtering: 50 album_w: 0.4 artist_w: 0.6]:  0.09995730895272299
target playlist  4421
target tracks  17162
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17162) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17162)
MAP@5: 0.09819045464826971
target playlist  4421
target tracks  17247
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17247) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17247)
MAP@5: 0.10101786926034834
target playlist  4421
target tracks  17182
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17182) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17182)
MAP@5: 0.10054286360551896
target playlist  4421
target tracks  17274
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17274) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17274)
MAP@5: 0.10117922038754427
target playlist  4419
target tracks  17193
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17193) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4419, 17193)
MAP@5: 0.09826054160066368
MAP@5 [shrinkage: 100 k_filtering: 50 album_w: 0.4 artist_w: 0.7]:  0.09983818990046898
target playlist  4421
target tracks  17074
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17074) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17074)
MAP@5: 0.09911558470934151
target playlist  4421
target tracks  17322
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17322) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17322)
MAP@5: 0.10181406921510985
target playlist  4421
target tracks  17302
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17302) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17302)
MAP@5: 0.0967322626856668
target playlist  4421
target tracks  17269
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17269) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17269)
MAP@5: 0.09825077282666048
target playlist  4419
target tracks  17259
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17259) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4419, 17259)
MAP@5: 0.10067586935204056
MAP@5 [shrinkage: 100 k_filtering: 50 album_w: 0.4 artist_w: 0.8]:  0.09931771175776383
target playlist  4421
target tracks  17258
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17258) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17258)
MAP@5: 0.10109929880117648
target playlist  4421
target tracks  17247
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17247) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17247)
MAP@5: 0.1028877327904699
target playlist  4421
target tracks  17210
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17210) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17210)
MAP@5: 0.10075925507049696
target playlist  4421
target tracks  17161
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17161) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17161)
MAP@5: 0.09660785644273541
target playlist  4419
target tracks  17148
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17148) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4419, 17148)
MAP@5: 0.09562646149204208
MAP@5 [shrinkage: 100 k_filtering: 50 album_w: 0.4 artist_w: 0.9]:  0.09939612091938416
target playlist  4421
target tracks  17255
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17255) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17255)
MAP@5: 0.1000912312448166
target playlist  4421
target tracks  17177
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17177) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17177)
MAP@5: 0.09658749905752868
target playlist  4421
target tracks  17117
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17117) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17117)
MAP@5: 0.1044861645178315
target playlist  4421
target tracks  17355
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17355) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17355)
MAP@5: 0.09881248586292705
target playlist  4419
target tracks  17277
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17277) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4419, 17277)
MAP@5: 0.09994644338839857
MAP@5 [shrinkage: 100 k_filtering: 50 album_w: 0.4 artist_w: 1.0]:  0.09998476481430049
target playlist  4421
target tracks  17144
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17144) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17144)
MAP@5: 0.07907788584784704
target playlist  4421
target tracks  17304
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17304) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17304)
MAP@5: 0.07683480358893127
target playlist  4421
target tracks  17250
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17250) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17250)
MAP@5: 0.07643821156601044
target playlist  4421
target tracks  17253
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17253) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17253)
MAP@5: 0.08211641408429433
target playlist  4419
target tracks  17219
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17219) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4419, 17219)
MAP@5: 0.07954212868673141
MAP@5 [shrinkage: 100 k_filtering: 50 album_w: 0.5 artist_w: 0.0]:  0.0788018887547629
target playlist  4421
target tracks  17175
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17175) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17175)
MAP@5: 0.09844756088366129
target playlist  4421
target tracks  17251
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17251) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17251)
MAP@5: 0.09548593832466255
target playlist  4421
target tracks  17214
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17214) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17214)
MAP@5: 0.09767775013194588
target playlist  4421
target tracks  17088
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17088) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17088)
MAP@5: 0.09904772675865205
target playlist  4419
target tracks  17251
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17251) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4419, 17251)
MAP@5: 0.09937240703024822
MAP@5 [shrinkage: 100 k_filtering: 50 album_w: 0.5 artist_w: 0.1]:  0.09800627662583399
target playlist  4421
target tracks  17193
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17193) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17193)
MAP@5: 0.09736786549046227
target playlist  4421
target tracks  17211
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17211) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17211)
MAP@5: 0.09704591721330011
target playlist  4421
target tracks  17237
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17237) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17237)
MAP@5: 0.10001432556736788
target playlist  4421
target tracks  17196
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17196) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17196)
MAP@5: 0.10278142200105585
target playlist  4419
target tracks  17193
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17193) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4419, 17193)
MAP@5: 0.09991551633099505
MAP@5 [shrinkage: 100 k_filtering: 50 album_w: 0.5 artist_w: 0.2]:  0.09942500932063622
target playlist  4421
target tracks  17039
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17039) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17039)
MAP@5: 0.10027067782552967
target playlist  4421
target tracks  17319
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17319) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17319)
MAP@5: 0.09942923923697514
target playlist  4421
target tracks  17034
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17034) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17034)
MAP@5: 0.1001824624896328
target playlist  4421
target tracks  17183
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17183) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17183)
MAP@5: 0.09917816481942235
target playlist  4419
target tracks  17155
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17155) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4419, 17155)
MAP@5: 0.10327751376631197
MAP@5 [shrinkage: 100 k_filtering: 50 album_w: 0.5 artist_w: 0.3]:  0.10046761162757438
target playlist  4421
target tracks  17182
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17182) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17182)
MAP@5: 0.104711603709568
target playlist  4421
target tracks  17221
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17221) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17221)
MAP@5: 0.10034909145743799
target playlist  4421
target tracks  17145
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17145) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17145)
MAP@5: 0.09868732564276562
target playlist  4421
target tracks  17289
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17289) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17289)
MAP@5: 0.10763326547538271
target playlist  4419
target tracks  17154
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17154) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4419, 17154)
MAP@5: 0.09877875839179297
MAP@5 [shrinkage: 100 k_filtering: 50 album_w: 0.5 artist_w: 0.4]:  0.10203200893538947
target playlist  4421
target tracks  17145
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17145) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17145)
MAP@5: 0.10250471235768696
target playlist  4421
target tracks  17294
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17294) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17294)
MAP@5: 0.09539018321646703
target playlist  4421
target tracks  17267
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17267) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17267)
MAP@5: 0.10034833748020809
target playlist  4421
target tracks  17182
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17182) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17182)
MAP@5: 0.10191887205006421
target playlist  4419
target tracks  17159
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17159) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4419, 17159)
MAP@5: 0.09908274873651642
MAP@5 [shrinkage: 100 k_filtering: 50 album_w: 0.5 artist_w: 0.5]:  0.09984897076818854
target playlist  4421
target tracks  17217
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17217) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17217)
MAP@5: 0.10249566463092807
target playlist  4421
target tracks  17255
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17255) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17255)
MAP@5: 0.10103068687325648
target playlist  4421
target tracks  17164
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17164) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17164)
MAP@5: 0.10018246248963289
target playlist  4421
target tracks  17236
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17236) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17236)
MAP@5: 0.09800271431802764
target playlist  4419
target tracks  17270
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17270) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4419, 17270)
MAP@5: 0.10141208418194146
MAP@5 [shrinkage: 100 k_filtering: 50 album_w: 0.5 artist_w: 0.6]:  0.10062472249875731
target playlist  4421
target tracks  17191
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17191) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17191)
MAP@5: 0.10043052099826581
target playlist  4421
target tracks  17192
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17192) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17192)
MAP@5: 0.09897082108120324
target playlist  4421
target tracks  17256
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17256) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17256)
MAP@5: 0.09897609892181272
target playlist  4421
target tracks  17202
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17202) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17202)
MAP@5: 0.10248812485862936
target playlist  4419
target tracks  17229
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17229) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4419, 17229)
MAP@5: 0.10233914158557751
MAP@5 [shrinkage: 100 k_filtering: 50 album_w: 0.5 artist_w: 0.7]:  0.10064094148909772
target playlist  4421
target tracks  17249
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17249) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17249)
MAP@5: 0.09934780969614733
target playlist  4421
target tracks  17239
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17239) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17239)
MAP@5: 0.09825378873558022
target playlist  4421
target tracks  17196
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17196) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17196)
MAP@5: 0.10415969237729006
target playlist  4421
target tracks  17319
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17319) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17319)
MAP@5: 0.10097036869486548
target playlist  4419
target tracks  17160
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17160) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4419, 17160)
MAP@5: 0.0990307007618618
MAP@5 [shrinkage: 100 k_filtering: 50 album_w: 0.5 artist_w: 0.8]:  0.10035247205314897
target playlist  4421
target tracks  17237
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17237) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17237)
MAP@5: 0.10340571514740246
target playlist  4421
target tracks  17322
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17322) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17322)
MAP@5: 0.09698333710321935
target playlist  4421
target tracks  17249
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17249) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17249)
MAP@5: 0.0969215109703685
target playlist  4421
target tracks  17257
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17257) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17257)
MAP@5: 0.10011762044786252
target playlist  4419
target tracks  17205
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17205) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4419, 17205)
MAP@5: 0.09834879686203517
MAP@5 [shrinkage: 100 k_filtering: 50 album_w: 0.5 artist_w: 0.9]:  0.0991553961061776
target playlist  4421
target tracks  17336
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17336) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17336)
MAP@5: 0.10649928372163167
target playlist  4421
target tracks  17251
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17251) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17251)
MAP@5: 0.10013269999246026
target playlist  4421
target tracks  17247
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17247) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17247)
MAP@5: 0.09889240744929531
target playlist  4421
target tracks  17237
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17237) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17237)
MAP@5: 0.09825303475835022
target playlist  4419
target tracks  17180
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17180) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4419, 17180)
MAP@5: 0.09565814286791875
MAP@5 [shrinkage: 100 k_filtering: 50 album_w: 0.5 artist_w: 1.0]:  0.09988711375793125
target playlist  4421
target tracks  17233
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17233) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17233)
MAP@5: 0.07924753072457198
target playlist  4421
target tracks  17293
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17293) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17293)
MAP@5: 0.07736484958154252
target playlist  4421
target tracks  17091
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17091) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17091)
MAP@5: 0.07288019301817054
target playlist  4421
target tracks  17318
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17318) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17318)
MAP@5: 0.08016964487672457
target playlist  4419
target tracks  17251
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17251) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4419, 17251)
MAP@5: 0.0790586105453721
MAP@5 [shrinkage: 100 k_filtering: 50 album_w: 0.6 artist_w: 0.0]:  0.07774416574927635
target playlist  4421
target tracks  17335
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17335) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17335)
MAP@5: 0.09537434969463923
target playlist  4421
target tracks  17180
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17180) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17180)
MAP@5: 0.1012319987936365
target playlist  4421
target tracks  17202
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17202) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17202)
MAP@5: 0.09942999321420497
target playlist  4421
target tracks  17176
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17176) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17176)
MAP@5: 0.09265022996305489
target playlist  4419
target tracks  17183
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17183) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4419, 17183)
MAP@5: 0.0904367503960172
MAP@5 [shrinkage: 100 k_filtering: 50 album_w: 0.6 artist_w: 0.1]:  0.09582466441231056
target playlist  4421
target tracks  17194
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17194) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17194)
MAP@5: 0.09258991178466415
target playlist  4421
target tracks  17198
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17198) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17198)
MAP@5: 0.10090628063032492
target playlist  4421
target tracks  17286
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17286) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17286)
MAP@5: 0.09937118299027363
target playlist  4421
target tracks  17271
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17271) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17271)
MAP@5: 0.09896705119505403
target playlist  4419
target tracks  17242
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17242) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4419, 17242)
MAP@5: 0.1035468054612657
MAP@5 [shrinkage: 100 k_filtering: 50 album_w: 0.6 artist_w: 0.2]:  0.0990762464123165
target playlist  4421
target tracks  17246
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17246) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17246)
MAP@5: 0.09899268642087017
target playlist  4421
target tracks  17206
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17206) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17206)
MAP@5: 0.10094020960566995
target playlist  4421
target tracks  17124
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17124) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17124)
MAP@5: 0.10042222724873705
target playlist  4421
target tracks  17187
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17187) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17187)
MAP@5: 0.10082032722611771
target playlist  4419
target tracks  17257
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17257) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4419, 17257)
MAP@5: 0.09869201176736826
MAP@5 [shrinkage: 100 k_filtering: 50 album_w: 0.6 artist_w: 0.3]:  0.09997349245375263
target playlist  4421
target tracks  17230
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17230) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17230)
MAP@5: 0.0989572494910654
target playlist  4421
target tracks  17128
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17128) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17128)
MAP@5: 0.09722913368016273
target playlist  4421
target tracks  17079
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17079) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17079)
MAP@5: 0.10222046294201927
target playlist  4421
target tracks  17287
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17287) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17287)
MAP@5: 0.10298876573927467
target playlist  4419
target tracks  17305
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17305) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4419, 17305)
MAP@5: 0.10123406502225235
MAP@5 [shrinkage: 100 k_filtering: 50 album_w: 0.6 artist_w: 0.4]:  0.10052593537495488
target playlist  4421
target tracks  17342
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17342) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17342)
MAP@5: 0.10841061599939686
target playlist  4421
target tracks  17110
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17110) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17110)
MAP@5: 0.0982145819196261
target playlist  4421
target tracks  17170
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17170) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17170)
MAP@5: 0.09957249491065386
target playlist  4421
target tracks  17359
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17359) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17359)
MAP@5: 0.10197994420568492
target playlist  4419
target tracks  17331
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17331) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4419, 17331)
MAP@5: 0.10051142792486983
MAP@5 [shrinkage: 100 k_filtering: 50 album_w: 0.6 artist_w: 0.5]:  0.10173781299204632
target playlist  4421
target tracks  17192
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17192) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17192)
MAP@5: 0.10046595792807049
target playlist  4421
target tracks  17186
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17186) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17186)
MAP@5: 0.10235014702555983
target playlist  4421
target tracks  17153
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17153) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17153)
MAP@5: 0.09590137977833084
target playlist  4421
target tracks  17262
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17262) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17262)
MAP@5: 0.09730603935761138
target playlist  4419
target tracks  17092
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17092) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4419, 17092)
MAP@5: 0.10430564984536474
MAP@5 [shrinkage: 100 k_filtering: 50 album_w: 0.6 artist_w: 0.6]:  0.10006583478698747
target playlist  4421
target tracks  17174
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17174) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17174)
MAP@5: 0.097637035361532
target playlist  4421
target tracks  17212
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17212) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17212)
MAP@5: 0.10017492271733411
target playlist  4421
target tracks  17283
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17283) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17283)
MAP@5: 0.09898891653472053
target playlist  4421
target tracks  17322
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17322) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17322)
MAP@5: 0.10623237578225153
target playlist  4419
target tracks  17292
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17292) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4419, 17292)
MAP@5: 0.09921022855849743
MAP@5 [shrinkage: 100 k_filtering: 50 album_w: 0.6 artist_w: 0.7]:  0.1004486957908671
target playlist  4421
target tracks  17131
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17131) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17131)
MAP@5: 0.10038528236447258
target playlist  4421
target tracks  17199
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17199) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17199)
MAP@5: 0.10086330392822158
target playlist  4421
target tracks  17227
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17227) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17227)
MAP@5: 0.0985410540601674
target playlist  4421
target tracks  17302
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17302) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17302)
MAP@5: 0.09940360401115884
target playlist  4419
target tracks  17232
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17232) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4419, 17232)
MAP@5: 0.09943048955268909
MAP@5 [shrinkage: 100 k_filtering: 50 album_w: 0.6 artist_w: 0.8]:  0.0997247467833419
target playlist  4421
target tracks  17219
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17219) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17219)
MAP@5: 0.09896478926336441
target playlist  4421
target tracks  17112
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17112) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17112)
MAP@5: 0.10254391917364118
target playlist  4421
target tracks  17283
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17283) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17283)
MAP@5: 0.09810902510744186
target playlist  4421
target tracks  17252
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17252) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17252)
MAP@5: 0.1019528010254091
target playlist  4419
target tracks  17193
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17193) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4419, 17193)
MAP@5: 0.09951723617711403
MAP@5 [shrinkage: 100 k_filtering: 50 album_w: 0.6 artist_w: 0.9]:  0.10021755414939411
target playlist  4421
target tracks  17213
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17213) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17213)
MAP@5: 0.1004471084973234
target playlist  4421
target tracks  17189
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17189) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17189)
MAP@5: 0.09747568423433615
target playlist  4421
target tracks  17181
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17181) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17181)
MAP@5: 0.10167759933650006
target playlist  4421
target tracks  17060
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17060) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17060)
MAP@5: 0.10187815727965009
target playlist  4419
target tracks  17317
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17317) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4419, 17317)
MAP@5: 0.09955042618993722
MAP@5 [shrinkage: 100 k_filtering: 50 album_w: 0.6 artist_w: 1.0]:  0.10020579510754939
target playlist  4421
target tracks  17270
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17270) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17270)
MAP@5: 0.07353766116263265
target playlist  4421
target tracks  17203
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17203) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17203)
MAP@5: 0.07444997361079651
target playlist  4421
target tracks  17260
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17260) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17260)
MAP@5: 0.08089195506295671
target playlist  4421
target tracks  17320
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17320) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17320)
MAP@5: 0.0802435346452536
target playlist  4419
target tracks  17145
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17145) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4419, 17145)
MAP@5: 0.07671494304895504
MAP@5 [shrinkage: 100 k_filtering: 50 album_w: 0.7 artist_w: 0.0]:  0.0771676135061189
target playlist  4421
target tracks  17309
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17309) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17309)
MAP@5: 0.09964035286134366
target playlist  4421
target tracks  17256
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17256) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17256)
MAP@5: 0.1012546181105331
target playlist  4421
target tracks  17142
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17142) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17142)
MAP@5: 0.09612531101560744
target playlist  4421
target tracks  17233
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17233) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17233)
MAP@5: 0.09127422151850995
target playlist  4419
target tracks  17258
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17258) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4419, 17258)
MAP@5: 0.09235875386588191
MAP@5 [shrinkage: 100 k_filtering: 50 album_w: 0.7 artist_w: 0.1]:  0.0961306514743752
target playlist  4421
target tracks  17000
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17000)
MAP@5: 0.09658900701198816
target playlist  4421
target tracks  17266
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17266) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17266)
MAP@5: 0.09510216391464983
target playlist  4421
target tracks  17309
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17309) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17309)
MAP@5: 0.09987785568875837
target playlist  4421
target tracks  17192
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17192) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17192)
MAP@5: 0.09536228605896101
target playlist  4419
target tracks  17243
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17243) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4419, 17243)
MAP@5: 0.09696235950818419
MAP@5 [shrinkage: 100 k_filtering: 50 album_w: 0.7 artist_w: 0.2]:  0.09677873443650833
target playlist  4421
target tracks  17262
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17262) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17262)
MAP@5: 0.10086405790545126
target playlist  4421
target tracks  17198
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17198) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17198)
MAP@5: 0.10101183744250905
target playlist  4421
target tracks  17226
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17226) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17226)
MAP@5: 0.09665912689436783
target playlist  4421
target tracks  17283
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17283) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17283)
MAP@5: 0.10145668400814291
target playlist  4419
target tracks  17193
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17193) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4419, 17193)
MAP@5: 0.09508486082824162
MAP@5 [shrinkage: 100 k_filtering: 50 album_w: 0.7 artist_w: 0.3]:  0.09901531341574253
target playlist  4421
target tracks  17161
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17161) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17161)
MAP@5: 0.10067028575737025
target playlist  4421
target tracks  17189
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17189) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17189)
MAP@5: 0.10080600165874998
target playlist  4421
target tracks  17319
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17319) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17319)
MAP@5: 0.09958380456910206
target playlist  4421
target tracks  17196
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17196) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17196)
MAP@5: 0.09937646083088277
target playlist  4419
target tracks  17294
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17294) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4419, 17294)
MAP@5: 0.10046843177189413
MAP@5 [shrinkage: 100 k_filtering: 50 album_w: 0.7 artist_w: 0.4]:  0.10018099691759982
target playlist  4421
target tracks  17167
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17167) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17167)
MAP@5: 0.1042690190756238
target playlist  4421
target tracks  17252
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17252) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17252)
MAP@5: 0.10169117092663808
target playlist  4421
target tracks  17226
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17226) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17226)
MAP@5: 0.10151097036869491
target playlist  4421
target tracks  17212
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17212) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17212)
MAP@5: 0.1011302118676015
target playlist  4419
target tracks  17241
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17241) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4419, 17241)
MAP@5: 0.0973025571396244
MAP@5 [shrinkage: 100 k_filtering: 50 album_w: 0.7 artist_w: 0.5]:  0.10118078587563654
target playlist  4421
target tracks  17133
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17133) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17133)
MAP@5: 0.09778858478473948
target playlist  4421
target tracks  17224
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17224) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17224)
MAP@5: 0.10158109025107459
target playlist  4421
target tracks  17177
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17177) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17177)
MAP@5: 0.0963439644122747
target playlist  4421
target tracks  17227
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17227) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17227)
MAP@5: 0.10188192716579972
target playlist  4419
target tracks  17311
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17311) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4419, 17311)
MAP@5: 0.10153126650071652
MAP@5 [shrinkage: 100 k_filtering: 50 album_w: 0.7 artist_w: 0.6]:  0.099825366622921
target playlist  4421
target tracks  17283
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17283) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17283)
MAP@5: 0.10544069969086937
target playlist  4421
target tracks  17260
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17260) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17260)
MAP@5: 0.1007185403000829
target playlist  4421
target tracks  17085
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17085) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17085)
MAP@5: 0.09833069441302865
target playlist  4421
target tracks  17265
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17265) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17265)
MAP@5: 0.1029095981301366
target playlist  4419
target tracks  17235
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17235) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4419, 17235)
MAP@5: 0.09991249905710187
MAP@5 [shrinkage: 100 k_filtering: 50 album_w: 0.7 artist_w: 0.7]:  0.10146240631824388
target playlist  4421
target tracks  17325
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17325) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17325)
MAP@5: 0.10107667948427956
target playlist  4421
target tracks  17113
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17113) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17113)
MAP@5: 0.09554173263967412
target playlist  4421
target tracks  17234
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17234) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17234)
MAP@5: 0.10358742365980547
target playlist  4421
target tracks  17212
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17212) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17212)
MAP@5: 0.10166402774636217
target playlist  4419
target tracks  17197
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17197) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4419, 17197)
MAP@5: 0.10170551406803935
MAP@5 [shrinkage: 100 k_filtering: 50 album_w: 0.7 artist_w: 0.8]:  0.10071507551963213
target playlist  4421
target tracks  17233
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17233) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17233)
MAP@5: 0.09498454346678747
target playlist  4421
target tracks  17186
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17186) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17186)
MAP@5: 0.09882982733921453
target playlist  4421
target tracks  17125
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17125) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17125)
MAP@5: 0.10082635904395693
target playlist  4421
target tracks  17266
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17266) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17266)
MAP@5: 0.09828997964261486
target playlist  4419
target tracks  17216
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17216) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4419, 17216)
MAP@5: 0.10733801010786767
MAP@5 [shrinkage: 100 k_filtering: 50 album_w: 0.7 artist_w: 0.9]:  0.1000537439200883
target playlist  4421
target tracks  17208
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17208) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17208)
MAP@5: 0.1061343587423661
target playlist  4421
target tracks  17186
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17186) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17186)
MAP@5: 0.0976144160446354
target playlist  4421
target tracks  17290
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17290) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17290)
MAP@5: 0.09783156148684329
target playlist  4421
target tracks  17188
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17188) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17188)
MAP@5: 0.09902209153283571
target playlist  4419
target tracks  17283
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17283) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4419, 17283)
MAP@5: 0.09958361620276056
MAP@5 [shrinkage: 100 k_filtering: 50 album_w: 0.7 artist_w: 1.0]:  0.1000372088018882
target playlist  4421
target tracks  17159
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17159) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17159)
MAP@5: 0.07758727286435936
target playlist  4421
target tracks  17150
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17150) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17150)
MAP@5: 0.07987106989368914
target playlist  4421
target tracks  17278
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17278) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17278)
MAP@5: 0.07863680916836277
target playlist  4421
target tracks  17292
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17292) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17292)
MAP@5: 0.07809997738068285
target playlist  4419
target tracks  17165
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17165) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4419, 17165)
MAP@5: 0.07947650297955787
MAP@5 [shrinkage: 100 k_filtering: 50 album_w: 0.8 artist_w: 0.0]:  0.07873432645733039
target playlist  4421
target tracks  17286
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17286) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17286)
MAP@5: 0.09933046821985966
target playlist  4421
target tracks  17224
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17224) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17224)
MAP@5: 0.09689889165347199
target playlist  4421
target tracks  17135
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17135) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17135)
MAP@5: 0.09194601523034004
target playlist  4421
target tracks  17096
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17096) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17096)
MAP@5: 0.09589157807434222
target playlist  4419
target tracks  17254
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17254) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4419, 17254)
MAP@5: 0.09899826506751151
MAP@5 [shrinkage: 100 k_filtering: 50 album_w: 0.8 artist_w: 0.1]:  0.09661304364910508
target playlist  4421
target tracks  17170
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17170) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17170)
MAP@5: 0.09849430747191434
target playlist  4421
target tracks  17411
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17411) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17411)
MAP@5: 0.09882681143029491
target playlist  4421
target tracks  17314
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17314) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17314)
MAP@5: 0.09693960642388619
target playlist  4421
target tracks  17223
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17223) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17223)
MAP@5: 0.09553268491291564
target playlist  4419
target tracks  17178
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17178) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4419, 17178)
MAP@5: 0.09444067285207829
MAP@5 [shrinkage: 100 k_filtering: 50 album_w: 0.8 artist_w: 0.2]:  0.0968468166182179
target playlist  4421
target tracks  17235
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17235) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17235)
MAP@5: 0.09593530875367552
target playlist  4421
target tracks  17206
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17206) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17206)
MAP@5: 0.09941189776068757
target playlist  4421
target tracks  17180
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17180) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17180)
MAP@5: 0.0998401568272638
target playlist  4421
target tracks  17253
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17253) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17253)
MAP@5: 0.09829676543768397
target playlist  4419
target tracks  17172
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17172) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4419, 17172)
MAP@5: 0.09618013125141428
MAP@5 [shrinkage: 100 k_filtering: 50 album_w: 0.8 artist_w: 0.3]:  0.09793285200614502
target playlist  4421
target tracks  17223
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17223) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17223)
MAP@5: 0.10213903340119132
target playlist  4421
target tracks  17237
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17237) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17237)
MAP@5: 0.09889693131267432
target playlist  4421
target tracks  17042
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17042) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17042)
MAP@5: 0.0955522883208927
target playlist  4421
target tracks  17123
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17123) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17123)
MAP@5: 0.10248661690416956
target playlist  4419
target tracks  17112
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17112) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4419, 17112)
MAP@5: 0.09830052047974676
MAP@5 [shrinkage: 100 k_filtering: 50 album_w: 0.8 artist_w: 0.4]:  0.09947507808373493
target playlist  4421
target tracks  17089
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17089) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17089)
MAP@5: 0.09864057905451251
target playlist  4421
target tracks  17303
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17303) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17303)
MAP@5: 0.10379853728417436
target playlist  4421
target tracks  17068
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17068) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17068)
MAP@5: 0.09783005353238344
target playlist  4421
target tracks  17244
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17244) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17244)
MAP@5: 0.09714468823041554
target playlist  4419
target tracks  17249
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17249) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4419, 17249)
MAP@5: 0.10550727917326702
MAP@5 [shrinkage: 100 k_filtering: 50 album_w: 0.8 artist_w: 0.5]:  0.10058422745495058
target playlist  4421
target tracks  17189
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17189) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17189)
MAP@5: 0.10223478850938698
target playlist  4421
target tracks  17251
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17251) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17251)
MAP@5: 0.10080901756766952
target playlist  4421
target tracks  17094
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17094) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17094)
MAP@5: 0.10338988162557465
target playlist  4421
target tracks  17298
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17298) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17298)
MAP@5: 0.10095001130965874
target playlist  4419
target tracks  17164
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17164) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4419, 17164)
MAP@5: 0.09829222297654074
MAP@5 [shrinkage: 100 k_filtering: 50 album_w: 0.8 artist_w: 0.6]:  0.10113518439776614
target playlist  4421
target tracks  17197
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17197) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17197)
MAP@5: 0.10068234939304829
target playlist  4421
target tracks  17128
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17128) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17128)
MAP@5: 0.09867827791600688
target playlist  4421
target tracks  17146
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17146) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17146)
MAP@5: 0.09947975571137758
target playlist  4421
target tracks  17203
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17203) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17203)
MAP@5: 0.10068310337027811
target playlist  4419
target tracks  17256
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17256) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4419, 17256)
MAP@5: 0.10358225842950902
MAP@5 [shrinkage: 100 k_filtering: 50 album_w: 0.8 artist_w: 0.7]:  0.10062114896404398
target playlist  4421
target tracks  17261
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17261) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17261)
MAP@5: 0.09793711829902753
target playlist  4421
target tracks  17228
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17228) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17228)
MAP@5: 0.09997059488803463
target playlist  4421
target tracks  17239
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17239) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17239)
MAP@5: 0.10270828620975658
target playlist  4421
target tracks  17196
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17196) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17196)
MAP@5: 0.10175676694563833
target playlist  4419
target tracks  17198
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17198) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4419, 17198)
MAP@5: 0.09814362223730858
MAP@5 [shrinkage: 100 k_filtering: 50 album_w: 0.8 artist_w: 0.8]:  0.10010327771595313
target playlist  4421
target tracks  17312
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17312) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17312)
MAP@5: 0.09875744552514533
target playlist  4421
target tracks  17280
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17280) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17280)
MAP@5: 0.10547462866621443
target playlist  4421
target tracks  17175
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17175) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17175)
MAP@5: 0.09728568197240454
target playlist  4421
target tracks  17078
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17078) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17078)
MAP@5: 0.09570685365301966
target playlist  4419
target tracks  17270
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17270) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4419, 17270)
MAP@5: 0.10396394357697823
MAP@5 [shrinkage: 100 k_filtering: 50 album_w: 0.8 artist_w: 0.9]:  0.10023771067875245
target playlist  4421
target tracks  17222
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17222) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17222)
MAP@5: 0.10281233506748118
target playlist  4421
target tracks  17278
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17278) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17278)
MAP@5: 0.09899947221593901
target playlist  4421
target tracks  17246
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17246) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17246)
MAP@5: 0.09889089949483533
target playlist  4421
target tracks  17166
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17166) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17166)
MAP@5: 0.09709567971047289
target playlist  4419
target tracks  17301
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17301) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4419, 17301)
MAP@5: 0.10072716300822214
MAP@5 [shrinkage: 100 k_filtering: 50 album_w: 0.8 artist_w: 1.0]:  0.0997051098993901
target playlist  4421
target tracks  17195
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17195) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17195)
MAP@5: 0.08015230340043722
target playlist  4421
target tracks  17149
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17149) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17149)
MAP@5: 0.07656487974063146
target playlist  4421
target tracks  17143
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17143) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17143)
MAP@5: 0.0818593078489027
target playlist  4421
target tracks  17164
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17164) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17164)
MAP@5: 0.07607027067782533
target playlist  4419
target tracks  17255
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17255) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4419, 17255)
MAP@5: 0.07418495888964308
MAP@5 [shrinkage: 100 k_filtering: 50 album_w: 0.9 artist_w: 0.0]:  0.07776634411148797
target playlist  4421
target tracks  17219
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17219) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17219)
MAP@5: 0.09810299328960273
target playlist  4421
target tracks  17229
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17229) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17229)
MAP@5: 0.10047123576867975
target playlist  4421
target tracks  17167
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17167) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17167)
MAP@5: 0.09728266606348489
target playlist  4421
target tracks  17297
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17297) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17297)
MAP@5: 0.09858780064842038
target playlist  4419
target tracks  17122
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17122) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4419, 17122)
MAP@5: 0.0963513615448442
MAP@5 [shrinkage: 100 k_filtering: 50 album_w: 0.9 artist_w: 0.1]:  0.0981592114630064
target playlist  4421
target tracks  17205
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17205) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17205)
MAP@5: 0.0993681670813544
target playlist  4421
target tracks  17183
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17183) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17183)
MAP@5: 0.09837065520621265
target playlist  4421
target tracks  17271
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17271) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17271)
MAP@5: 0.10265098394028507
target playlist  4421
target tracks  17166
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17166) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17166)
MAP@5: 0.09913292618562917
target playlist  4419
target tracks  17188
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17188) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4419, 17188)
MAP@5: 0.09326997058157943
MAP@5 [shrinkage: 100 k_filtering: 50 album_w: 0.9 artist_w: 0.2]:  0.09855854059901216
target playlist  4421
target tracks  17328
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17328) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17328)
MAP@5: 0.10076453291110621
target playlist  4421
target tracks  17130
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17130) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17130)
MAP@5: 0.0978451330769812
target playlist  4421
target tracks  17290
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17290) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17290)
MAP@5: 0.10106913971198063
target playlist  4421
target tracks  17138
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17138) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17138)
MAP@5: 0.0939591344341399
target playlist  4419
target tracks  17226
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17226) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4419, 17226)
MAP@5: 0.10237912046466004
MAP@5 [shrinkage: 100 k_filtering: 50 album_w: 0.9 artist_w: 0.3]:  0.0992034121197736
target playlist  4421
target tracks  17121
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17121) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17121)
MAP@5: 0.1025047123576869
target playlist  4421
target tracks  17279
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17279) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17279)
MAP@5: 0.09844831486089113
target playlist  4421
target tracks  17292
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17292) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17292)
MAP@5: 0.09810073135791288
target playlist  4421
target tracks  17277
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17277) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17277)
MAP@5: 0.09458795144386631
target playlist  4419
target tracks  17291
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17291) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4419, 17291)
MAP@5: 0.10193784415780353
MAP@5 [shrinkage: 100 k_filtering: 50 album_w: 0.9 artist_w: 0.4]:  0.09911591083563215
target playlist  4421
target tracks  17222
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17222) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17222)
MAP@5: 0.09727965015456545
target playlist  4421
target tracks  17308
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17308) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17308)
MAP@5: 0.10205911181482327
target playlist  4421
target tracks  17100
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17100) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17100)
MAP@5: 0.09640729849958517
target playlist  4421
target tracks  17245
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17245) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17245)
MAP@5: 0.10379024353464555
target playlist  4419
target tracks  17259
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17259) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4419, 17259)
MAP@5: 0.09815116542204107
MAP@5 [shrinkage: 100 k_filtering: 50 album_w: 0.9 artist_w: 0.5]:  0.0995374938851321
target playlist  4421
target tracks  17193
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17193) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17193)
MAP@5: 0.10286209756465346
target playlist  4421
target tracks  17206
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17206) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17206)
MAP@5: 0.09598054738746882
target playlist  4421
target tracks  17324
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17324) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17324)
MAP@5: 0.10031968634547243
target playlist  4421
target tracks  17239
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17239) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17239)
MAP@5: 0.09749227173339362
target playlist  4419
target tracks  17260
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17260) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4419, 17260)
MAP@5: 0.10537074752960698
MAP@5 [shrinkage: 100 k_filtering: 50 album_w: 0.9 artist_w: 0.6]:  0.10040507011211905
target playlist  4421
target tracks  17288
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17288) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17288)
MAP@5: 0.10520922868129386
target playlist  4421
target tracks  17247
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17247) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17247)
MAP@5: 0.09793636432179736
target playlist  4421
target tracks  17252
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17252) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17252)
MAP@5: 0.10542260423735211
target playlist  4421
target tracks  17285
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17285) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17285)
MAP@5: 0.09534645253713331
target playlist  4419
target tracks  17117
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17117) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4419, 17117)
MAP@5: 0.09944482160368112
MAP@5 [shrinkage: 100 k_filtering: 50 album_w: 0.9 artist_w: 0.7]:  0.10067189427625153
target playlist  4421
target tracks  17213
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17213) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17213)
MAP@5: 0.10018849430747201
target playlist  4421
target tracks  17261
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17261) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17261)
MAP@5: 0.1015079544597755
target playlist  4421
target tracks  17199
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17199) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17199)
MAP@5: 0.1029035663122974
target playlist  4421
target tracks  17293
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17293) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17293)
MAP@5: 0.10593003091306653
target playlist  4419
target tracks  17277
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17277) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4419, 17277)
MAP@5: 0.0993890020366599
MAP@5 [shrinkage: 100 k_filtering: 50 album_w: 0.9 artist_w: 0.8]:  0.10198380960585426
target playlist  4421
target tracks  17201
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17201) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17201)
MAP@5: 0.10198371409183449
target playlist  4421
target tracks  17126
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17126) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17126)
MAP@5: 0.09930106310789419
target playlist  4421
target tracks  17182
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17182) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17182)
MAP@5: 0.09988388750659731
target playlist  4421
target tracks  17195
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17195) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17195)
MAP@5: 0.09890597903943303
target playlist  4419
target tracks  17277
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17277) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4419, 17277)
MAP@5: 0.0984958889643208
MAP@5 [shrinkage: 100 k_filtering: 50 album_w: 0.9 artist_w: 0.9]:  0.09971410654201596
target playlist  4421
target tracks  17213
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17213) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17213)
MAP@5: 0.10659428485259761
target playlist  4421
target tracks  17194
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17194) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17194)
MAP@5: 0.10285681972404438
target playlist  4421
target tracks  17178
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17178) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17178)
MAP@5: 0.1005624670134962
target playlist  4421
target tracks  17256
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17256) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17256)
MAP@5: 0.10257709417175594
target playlist  4419
target tracks  17216
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17216) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4419, 17216)
MAP@5: 0.09805838424983004
MAP@5 [shrinkage: 100 k_filtering: 50 album_w: 0.9 artist_w: 1.0]:  0.10212981000234485
target playlist  4421
target tracks  17233
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17233) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17233)
MAP@5: 0.07659880871597644
target playlist  4421
target tracks  17260
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17260) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17260)
MAP@5: 0.07410465203950811
target playlist  4421
target tracks  17193
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17193) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17193)
MAP@5: 0.08436326622935984
target playlist  4421
target tracks  17191
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17191) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17191)
MAP@5: 0.0833672623086782
target playlist  4419
target tracks  17283
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17283) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4419, 17283)
MAP@5: 0.07956551255940242
MAP@5 [shrinkage: 100 k_filtering: 50 album_w: 1.0 artist_w: 0.0]:  0.079599900370585
target playlist  4421
target tracks  17289
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17289) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17289)
MAP@5: 0.09477795370579788
target playlist  4421
target tracks  17202
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17202) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17202)
MAP@5: 0.10395159466184126
target playlist  4421
target tracks  17288
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17288) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17288)
MAP@5: 0.09598808715976788
target playlist  4421
target tracks  17213
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17213) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17213)
MAP@5: 0.0918329186458568
target playlist  4419
target tracks  17083
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17083) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4419, 17083)
MAP@5: 0.09488421211435476
MAP@5 [shrinkage: 100 k_filtering: 50 album_w: 1.0 artist_w: 0.1]:  0.0962869532575237
target playlist  4421
target tracks  17382
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17382) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17382)
MAP@5: 0.09763477342984246
target playlist  4421
target tracks  17256
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17256) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17256)
MAP@5: 0.09796275352484358
target playlist  4421
target tracks  17260
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17260) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17260)
MAP@5: 0.09591495136846881
target playlist  4421
target tracks  17181
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17181) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17181)
MAP@5: 0.09604614340646907
target playlist  4419
target tracks  17241
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17241) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4419, 17241)
MAP@5: 0.09969751829222297
MAP@5 [shrinkage: 100 k_filtering: 50 album_w: 1.0 artist_w: 0.2]:  0.09745122800436937
target playlist  4421
target tracks  17293
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17293) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17293)
MAP@5: 0.1028485259745153
target playlist  4421
target tracks  17166
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17166) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17166)
MAP@5: 0.09913217220839933
target playlist  4421
target tracks  17230
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17230) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17230)
MAP@5: 0.09937872276257255
target playlist  4421
target tracks  17198
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17198) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17198)
MAP@5: 0.09703913141823117
target playlist  4419
target tracks  17190
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17190) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4419, 17190)
MAP@5: 0.09617334238515496
MAP@5 [shrinkage: 100 k_filtering: 50 album_w: 1.0 artist_w: 0.3]:  0.09891437894977466
target playlist  4421
target tracks  17268
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17268) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17268)
MAP@5: 0.09602050818065293
target playlist  4421
target tracks  17265
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17265) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17265)
MAP@5: 0.10692452687928826
target playlist  4421
target tracks  17289
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17289) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17289)
MAP@5: 0.10375706853653026
target playlist  4421
target tracks  17191
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17191) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17191)
MAP@5: 0.09736032571816312
target playlist  4419
target tracks  17139
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17139) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4419, 17139)
MAP@5: 0.09524025043373299
MAP@5 [shrinkage: 100 k_filtering: 50 album_w: 1.0 artist_w: 0.4]:  0.0998605359496735
target playlist  4421
target tracks  17338
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17338) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17338)
MAP@5: 0.0970217899419437
target playlist  4421
target tracks  17287
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17287) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17287)
MAP@5: 0.10054361758274889
target playlist  4421
target tracks  17095
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17095) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17095)
MAP@5: 0.09971650456156224
target playlist  4421
target tracks  17328
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17328) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17328)
MAP@5: 0.09826132850787914
target playlist  4419
target tracks  17271
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17271) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4419, 17271)
MAP@5: 0.10043297880365097
MAP@5 [shrinkage: 100 k_filtering: 50 album_w: 1.0 artist_w: 0.5]:  0.09919524387955699
target playlist  4421
target tracks  17354
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17354) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17354)
MAP@5: 0.10202292090778861
target playlist  4421
target tracks  17199
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17199) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17199)
MAP@5: 0.10011083465279362
target playlist  4421
target tracks  17295
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17295) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17295)
MAP@5: 0.10121088743119981
target playlist  4421
target tracks  17239
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17239) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17239)
MAP@5: 0.09660634848827564
target playlist  4419
target tracks  17128
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17128) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4419, 17128)
MAP@5: 0.10036056423021782
MAP@5 [shrinkage: 100 k_filtering: 50 album_w: 1.0 artist_w: 0.6]:  0.1000623111420551
target playlist  4421
target tracks  17195
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17195) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17195)
MAP@5: 0.1012312448164065
target playlist  4421
target tracks  17293
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17293) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17293)
MAP@5: 0.10174696524164968
target playlist  4421
target tracks  17318
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17318) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17318)
MAP@5: 0.10108497323380841
target playlist  4421
target tracks  17149
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17149) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17149)
MAP@5: 0.09860212621578822
target playlist  4419
target tracks  17229
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17229) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4419, 17229)
MAP@5: 0.10140303236026263
MAP@5 [shrinkage: 100 k_filtering: 50 album_w: 1.0 artist_w: 0.7]:  0.10081366837358308
target playlist  4421
target tracks  17289
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17289) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17289)
MAP@5: 0.10003996079318402
target playlist  4421
target tracks  17179
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17179) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17179)
MAP@5: 0.09782477569177402
target playlist  4421
target tracks  17321
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17321) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17321)
MAP@5: 0.10133604765136102
target playlist  4421
target tracks  17327
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17327) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17327)
MAP@5: 0.10619467692075701
target playlist  4419
target tracks  17305
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17305) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4419, 17305)
MAP@5: 0.10194991325337556
MAP@5 [shrinkage: 100 k_filtering: 50 album_w: 1.0 artist_w: 0.8]:  0.10146907486209034
target playlist  4421
target tracks  17222
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17222) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17222)
MAP@5: 0.09784513307698103
target playlist  4421
target tracks  17261
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17261) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17261)
MAP@5: 0.10537359571740927
target playlist  4421
target tracks  17253
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17253) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17253)
MAP@5: 0.0949310110834651
target playlist  4421
target tracks  17095
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17095) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17095)
MAP@5: 0.09974213978737846
target playlist  4419
target tracks  17264
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17264) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4419, 17264)
MAP@5: 0.10116466772271258
MAP@5 [shrinkage: 100 k_filtering: 50 album_w: 1.0 artist_w: 0.9]:  0.09981130947758929
target playlist  4421
target tracks  17197
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17197) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17197)
MAP@5: 0.1002314710095757
target playlist  4421
target tracks  17255
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17255) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17255)
MAP@5: 0.09833069441302887
target playlist  4421
target tracks  17151
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17151) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17151)
MAP@5: 0.10302420266907933
target playlist  4421
target tracks  17344
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17344) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4421, 17344)
MAP@5: 0.10291864585689521
target playlist  4419
target tracks  17193
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) .../home/manughelfi1994/.local/lib/python3.5/site-packages/scipy/sparse/compressed.py:774: SparseEfficiencyWarning: Changing the sparsity structure of a csr_matrix is expensive. lil_matrix is more efficient.
  SparseEfficiencyWarning)
/home/manughelfi1994/recsys_challenge_2017/content_based_filtering.py:114: RuntimeWarning: divide by zero encountered in true_divide
  S = S.multiply(csr_matrix(1 / s_norm))

S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 17193) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (4419, 17193)
MAP@5: 0.09859093309195123
MAP@5 [shrinkage: 100 k_filtering: 50 album_w: 1.0 artist_w: 1.0]:  0.10061918940810607
target playlist  10000
target tracks  32195
Building cosine similarity matrix for [0, 1000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [1000, 2000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [2000, 3000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [3000, 4000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [4000, 5000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [5000, 6000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [6000, 7000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [7000, 8000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [8000, 9000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [9000, 10000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [10000, 11000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [11000, 12000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [12000, 13000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [13000, 14000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [14000, 15000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [15000, 16000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [16000, 17000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [17000, 18000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [18000, 19000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [19000, 20000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [20000, 21000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [21000, 22000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [22000, 23000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [23000, 24000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [24000, 25000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [25000, 26000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [26000, 27000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [27000, 28000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [28000, 29000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [29000, 30000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [30000, 31000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [31000, 32000) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Building cosine similarity matrix for [32000, 32195) ...
S_prime prime built.
S_prime applied shrinkage
S_prime filtered
Similarity matrix ready, let's normalize it!
R_hat done
Shape of final matrix:  (10000, 32195)
